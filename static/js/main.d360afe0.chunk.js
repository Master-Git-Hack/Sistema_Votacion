(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),l=a(57),o=a.n(l),s=(a(66),a(26)),c=a(27),i=a(29),m=a(28),u=a(30),d=(a(67),a(58)),h=a.n(d).a.initializeApp({apiKey:"AIzaSyDjtRCmTJDKa4q68Si4rbQoR_cZnqzAzNE",authDomain:"votacion-d595f.firebaseapp.com",databaseURL:"https://votacion-d595f.firebaseio.com",projectId:"votacion-d595f",storageBucket:"votacion-d595f.appspot.com",messagingSenderId:"309639690507"}),b=a(59),p=a(4),E=a(60),C=a.n(E),N=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={Numero_Control:"",Nombre:"",Apellidos:"",Carrera:"Ing. Sistemas Computacionales","Contrase\xf1a":"",errores:[],status_errorSumary:"card d-none"},e.handleChange=e.handleChange.bind(Object(p.a)(Object(p.a)(e))),e.checkNumero_Control=e.checkNumero_Control.bind(Object(p.a)(Object(p.a)(e))),e.checkPasswords=e.checkPasswords.bind(Object(p.a)(Object(p.a)(e))),e.checkErrors=e.checkErrors.bind(Object(p.a)(Object(p.a)(e))),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"checkNumero_Control",value:function(){if(""===String(this.state.Numero_Control))return!1;if(Number(this.state.Numero_Control)){var e=Number((new Date).getFullYear())-2e3;if(this.state.Numero_Control>Number(e-5+"111000")&&this.state.Numero_Control<Number(e+"111000")&&"111"===String(this.state.Numero_Control).substr(2,3))return!0}}},{key:"checkPasswords",value:function(){return""!==this.state.Contrase\u00f1a&&(this.state.Contrase\u00f1a===this.state.Confirmar_Contrase\u00f1a||void 0)}},{key:"checkErrors",value:function(){if(window.confirm("\xbfSus datos estan correctos?")){var e=[];!1===this.checkNumero_Control()&&e.push("El numero de control no pertenece al sistema"),""===String(this.state.Nombre)&&e.push("El nombre no puede estar vacio"),""===String(this.state.Apellidos)&&e.push("Los apellidos no pueden estar vacios"),!1===this.checkPasswords()&&e.push("Las constrase\xf1as deben coincidir"),e.length>0?(this.setState({errores:e}),this.setState({status_errorSumary:"card"})):this.newStudent()}}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"newStudent",value:function(e){var t=this;if(Array(this.state.errores).length>0){var a=null;h.database().ref("Estudiante/"+this.state.Numero_Control).once("value").then(function(e){null!=(a=e.val()&&e.val().Numero_Control)&&window.alert("El usuario ya existe")}),null===a&&h.auth().createUserWithEmailAndPassword(this.state.Numero_Control+"@tecguanajuato.edu.mx",this.state.Contrase\u00f1a).then(function(e){h.database().ref("Estudiante/"+t.state.Numero_Control).set({Numero_Control:t.state.Numero_Control,Nombre:t.state.Nombre,Apellidos:t.state.Apellidos,Carrera:t.state.Carrera}).then(function(e){window.alert("Registro Exitoso")}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"container loginSize"},n.a.createElement("div",{className:"center jumbotron"},n.a.createElement("div",{className:"text-center"},n.a.createElement("h2",null,"Registro Alumno"),n.a.createElement("br",null),n.a.createElement("img",{src:C.a,width:"200px"}),n.a.createElement("br",null),n.a.createElement("table",{className:"table"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"text-right"},n.a.createElement("label",{className:"text-primary"},"Numero de Control:")),n.a.createElement("td",null,n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Numero de Control",name:"Numero_Control",onChange:this.handleChange,maxLength:"8",minLength:"8",required:!0}))),n.a.createElement("tr",null,n.a.createElement("td",{className:"text-right"},n.a.createElement("label",{className:"text-primary"},"Nombre(s):")),n.a.createElement("td",null,n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nombre(s)",onChange:this.handleChange,name:"Nombre",required:!0}))),n.a.createElement("tr",null,n.a.createElement("td",{className:"text-right"},n.a.createElement("label",{className:"text-primary"},"Apellido(s):")),n.a.createElement("td",null,n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Apellido(s)",onChange:this.handleChange,name:"Apellidos",required:!0}))),n.a.createElement("tr",null,n.a.createElement("td",{className:"text-right"},n.a.createElement("label",{className:"text-primary"},"Carrera:")),n.a.createElement("td",null,n.a.createElement("select",{className:"form-control",onChange:this.handleChange,name:"Carrera"},n.a.createElement("option",{defaultValue:!0},"Ing. Sistemas Computacionales"),n.a.createElement("option",null,"Ing. Industrias Alimentarias"),n.a.createElement("option",null,"Ing. Mecatronica"),n.a.createElement("option",null,"Ing. Industrial")))),n.a.createElement("tr",null,n.a.createElement("td",{className:"text-right"},n.a.createElement("label",{className:"text-primary"},"Contrase\xf1a:")),n.a.createElement("td",null,n.a.createElement("input",{type:"password",className:"form-control",placeholder:"Contrase\xf1a",name:"Contrase\xf1a",minLength:"8",maxLength:"16",onChange:this.handleChange,required:!0}))),n.a.createElement("tr",null,n.a.createElement("td",{className:"text-right"},n.a.createElement("label",{className:"text-primary"},"Confirmar Contrase\xf1a:")),n.a.createElement("td",null,n.a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirmar Contrase\xf1a",onChange:this.handleChange,name:"Confirmar_Contrase\xf1a",required:!0}))),n.a.createElement("tr",null,n.a.createElement("td",{className:"text-left"},n.a.createElement("button",{type:"submit",id:"btn_cancelar",className:"btn btn-danger"},"Cancelar")),n.a.createElement("td",{className:"text-right"},n.a.createElement("button",{type:"submit",id:"btn_registrar",className:"btn btn-success",onClick:this.checkErrors},"Registrar"))))),n.a.createElement("div",{className:this.state.status_errorSumary},n.a.createElement("div",{className:"card-header"},n.a.createElement("h4",{className:"text-primary"},"Errores")),n.a.createElement("div",{className:"card-body bg-danger"},n.a.createElement("ol",null,this.state.errores.map(function(t,a){return n.a.createElement("li",{key:a},e.state.errores[a])})))))))}}]),t}(r.Component),g=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(N,null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,t,a){e.exports=a.p+"static/media/escudo.febcb7fb.png"},61:function(e,t,a){e.exports=a(120)},66:function(e,t,a){},67:function(e,t,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.d360afe0.chunk.js.map