(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),s=a.n(l),o=(a(69),a(5)),c=a(6),i=a(8),m=a(7),u=a(9),d=a(3),h=(a(70),a(59)),b=a.n(h).a.initializeApp({apiKey:"AIzaSyDjtRCmTJDKa4q68Si4rbQoR_cZnqzAzNE",authDomain:"votacion-d595f.firebaseapp.com",databaseURL:"https://votacion-d595f.firebaseio.com",projectId:"votacion-d595f",storageBucket:"votacion-d595f.appspot.com",messagingSenderId:"309639690507"}),p=a(21),E=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={Numero_Control:"",Nombre:"",Apellidos:"",Carrera:"Ing. Sistemas Computacionales","Contrase\xf1a":"",errores:[],status_errorSumary:"card d-none",statusView:!0},e.handleChange=e.handleChange.bind(Object(d.a)(Object(d.a)(e))),e.checkNumero_Control=e.checkNumero_Control.bind(Object(d.a)(Object(d.a)(e))),e.checkPasswords=e.checkPasswords.bind(Object(d.a)(Object(d.a)(e))),e.checkErrors=e.checkErrors.bind(Object(d.a)(Object(d.a)(e))),e.viewState=e.viewState.bind(Object(d.a)(Object(d.a)(e))),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"viewState",value:function(){!0===this.state.statusView?this.setState({statusView:!1}):this.setState({statusView:!0})}},{key:"checkNumero_Control",value:function(){if(""===String(this.state.Numero_Control))return!1;if(8===this.state.Numero_Control.length()&&Number(this.state.Numero_Control)){var e=Number((new Date).getFullYear())-2e3;if(this.state.Numero_Control>Number(e-5+"111000")&&this.state.Numero_Control<Number(e+"111000")&&"111"===String(this.state.Numero_Control).substr(2,3))return!0}}},{key:"checkPasswords",value:function(){return""!==this.state.Contrase\u00f1a&&(this.state.Contrase\u00f1a===this.state.Confirmar_Contrase\u00f1a||void 0)}},{key:"checkErrors",value:function(){if(window.confirm("\xbfSus datos estan correctos?")){var e=[];!1===this.checkNumero_Control()&&e.push("El numero de control no pertenece al sistema"),""===String(this.state.Nombre)&&e.push("El nombre no puede estar vacio"),""===String(this.state.Apellidos)&&e.push("Los apellidos no pueden estar vacios"),!1===this.checkPasswords()&&e.push("Las constrase\xf1as deben coincidir"),e.length>0?(this.setState({errores:e}),this.setState({status_errorSumary:"card"})):this.newStudent()}}},{key:"handleChange",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value))}},{key:"newStudent",value:function(){var e=this;if(Array(this.state.errores).length>0){var t=null;b.database().ref("Estudiante/"+this.state.Numero_Control).once("value").then(function(e){null!==(t=e.val()&&e.val().Numero_Control)&&window.alert("El usuario ya existe")}),null===t&&b.auth().createUserWithEmailAndPassword(this.state.Numero_Control+"@tecguanajuato.edu.mx",this.state.Contrase\u00f1a).then(function(t){b.database().ref("Estudiante/"+e.state.Numero_Control).set({Numero_Control:e.state.Numero_Control,Nombre:e.state.Nombre,Apellidos:e.state.Apellidos,Carrera:e.state.Carrera}).then(function(e){window.alert("Registro Exitoso")}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.statusView?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"center jumbotron"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,"Registro Alumno"),r.a.createElement("br",null),r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"text-right"},r.a.createElement("label",{className:"text-primary"},"Numero de Control:")),r.a.createElement("td",null,r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Numero de Control",name:"Numero_Control",onChange:this.handleChange,maxLength:"8",minLength:"8",required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"text-right"},r.a.createElement("label",{className:"text-primary"},"Nombre(s):")),r.a.createElement("td",null,r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nombre(s)",onChange:this.handleChange,name:"Nombre",required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"text-right"},r.a.createElement("label",{className:"text-primary"},"Apellido(s):")),r.a.createElement("td",null,r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Apellido(s)",onChange:this.handleChange,name:"Apellidos",required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"text-right"},r.a.createElement("label",{className:"text-primary"},"Carrera:")),r.a.createElement("td",null,r.a.createElement("select",{className:"form-control",onChange:this.handleChange,name:"Carrera"},r.a.createElement("option",{defaultValue:!0},"Ing. Sistemas Computacionales"),r.a.createElement("option",null,"Ing. Industrias Alimentarias"),r.a.createElement("option",null,"Ing. Mecatronica"),r.a.createElement("option",null,"Ing. Industrial")))),r.a.createElement("tr",null,r.a.createElement("td",{className:"text-right"},r.a.createElement("label",{className:"text-primary"},"Contrase\xf1a:")),r.a.createElement("td",null,r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Contrase\xf1a",name:"Contrase\xf1a",minLength:"8",maxLength:"16",onChange:this.handleChange,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"text-right"},r.a.createElement("label",{className:"text-primary"},"Confirmar Contrase\xf1a:")),r.a.createElement("td",null,r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirmar Contrase\xf1a",onChange:this.handleChange,name:"Confirmar_Contrase\xf1a",required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"text-left"},r.a.createElement("button",{type:"submit",className:"btn btn-danger",onClick:this.viewState},"Cancelar")),r.a.createElement("td",{className:"text-right"},r.a.createElement("button",{type:"submit",className:"btn btn-success",onClick:this.checkErrors},"Registrar"))))),r.a.createElement("div",{className:this.state.status_errorSumary},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",{className:"text-primary"},"Errores")),r.a.createElement("div",{className:"card-body bg-danger"},r.a.createElement("ol",null,this.state.errores.map(function(t,a){return r.a.createElement("li",{key:a},e.state.errores[a])}))))))):r.a.createElement(j,null))}}]),t}(n.Component),g=a(60),v=a.n(g),N=a(61),C=a.n(N),f=a(62),y=a.n(f),j=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={Numero_Control:"","Contrase\xf1a":"",statusView:!0},e.handleChange=e.handleChange.bind(Object(d.a)(Object(d.a)(e))),e.login=e.login.bind(Object(d.a)(Object(d.a)(e))),e.viewState=e.viewState.bind(Object(d.a)(Object(d.a)(e))),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"login",value:function(e){e.preventDefault(),b.auth().signInWithEmailAndPassword(this.state.Numero_Control+"@tecguanajuato.edu.mx",this.state.Contrase\u00f1a).then(function(e){}).catch(function(e){console.log(e)})}},{key:"handleChange",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value))}},{key:"viewState",value:function(){!0===this.state.statusView?this.setState({statusView:!1}):this.setState({statusView:!0})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.statusView?r.a.createElement("div",{className:"container text-center loginSize"},r.a.createElement("div",{className:"center card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"text-primary"},"Inicio de Sesi\xf3n"),r.a.createElement("br",null),r.a.createElement("img",{src:v.a,alt:"logo",width:"150px"})),r.a.createElement("div",{className:"card-body jumbotron"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"text-primary text-right"},"Numero de Control:"),r.a.createElement("td",null,r.a.createElement("input",{type:"text",onChange:this.handleChange,name:"Numero_Control",className:"form-control",placeholder:"Numero de Control"}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"text-primary text-right"},"Contrase\xf1a:"),r.a.createElement("td",null,r.a.createElement("input",{type:"password",name:"Contrase\xf1a",onChange:this.handleChange,className:"form-control",placeholder:"Contrase\xf1a"})))))),r.a.createElement("div",{className:"btn-container text-center"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.login},"Iniciar Sesi\xf3n"),r.a.createElement("button",{type:"submit",className:"btn btn-link",onClick:this.viewState},"Registrar")),r.a.createElement("div",{className:"card-footer"},r.a.createElement("img",{src:C.a,alt:"logo",className:"img-responsive",width:"100px"}),r.a.createElement("img",{src:y.a,alt:"logo",className:"img-responsive",width:"100px"})))):r.a.createElement(E,null))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={user:a.props.Numero_Control.substr(0,8),EventoVotacion:"",EventoPass:""},a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"center jumbotron"},r.a.createElement("h2",{className:"text-primary"},"Bienvenido:",this.state.user),r.a.createElement("br",null),r.a.createElement("div",{class:"form"},r.a.createElement("input",{type:"text",onChange:this.handleChange,name:"EventoVotacion",className:"form-control",placeholder:"Nombre de Identifiacion de la Votaci\xf3n"}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",onChange:this.handleChange,name:"EventoPass",className:"form-control",placeholder:"Contrase\xf1a de acceso en caso de ser necesario para la Votaci\xf3n"}),r.a.createElement("br",null),r.a.createElement("div",{class:"btn-group",role:"group","aria-label":"Button group"},r.a.createElement("button",{type:"submit",class:"btn btn-success",name:"btn_votar",id:"btn_votar"},"Realizar Votaci\xf3n "),r.a.createElement("div",{class:"custom-control custom-checkbox btn btn-primary"},r.a.createElement("input",{type:"checkbox",class:"custom-control-input",id:"defaultUnchecked"}),r.a.createElement("label",{class:"custom-control-label",htmlFor:"defaultUnchecked"},"Contrase\xf1a")),r.a.createElement("button",{type:"submit",class:"btn btn-info",name:"btn_resultados",id:"btn_resultados"},"Ver Resultados")))))}}]),t}(n.Component),k=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).call(this))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"btn-group-vertical"},r.a.createElement("button",{type:"submit",name:"Participant",className:"btn btn-light text-info"},"Mi Informaci\xf3n"),r.a.createElement("button",{type:"submit",name:"Participant",className:"btn btn-light text-danger"},"Cerrar Sesi\xf3n")))}}]),t}(n.Component),w=a(63),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={user:"Einar Jhordany"},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar nabvar-dark bg-dark"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("button",{type:"submit",name:"Home",onClick:this.componentStatus,className:"btn nav-link text-light"},"Home")),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("ul",{className:"navbar nav"},r.a.createElement("li",{className:"nav-item"},this.props.children),r.a.createElement("li",{className:"nav-item dropdown "},r.a.createElement(w.a,{trigger:r.a.createElement("button",{className:"btn nav-link dropdown-toggle text-light"},this.state.user),children:r.a.createElement(k,null)}))))}}]),t}(n.Component),S=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={user:""},e.logOut=e.logOut.bind(Object(d.a)(Object(d.a)(e))),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"logOut",value:function(){b.auth().signOut()}},{key:"authListener",value:function(){var e=this;b.auth().onAuthStateChanged(function(t){t?e.setState({user:t}):e.setState({user:null})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,null,r.a.createElement("button",{type:"submit",name:"Participant",onClick:this.logOut,className:"btn nav-link bg-danger text-light"},"Log Out")),this.state.user?r.a.createElement(O,{Numero_Control:b.auth().currentUser.email}):r.a.createElement(j,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,t,a){e.exports=a.p+"static/media/escudo.febcb7fb.png"},61:function(e,t,a){e.exports=a.p+"static/media/tec.23f8d32b.png"},62:function(e,t,a){e.exports=a.p+"static/media/gto.b9ad320f.png"},64:function(e,t,a){e.exports=a(123)},69:function(e,t,a){},70:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.71d7c6f2.chunk.js.map